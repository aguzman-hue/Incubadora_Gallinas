/*
 * servo.c
 *
 *  Created on: Oct 27, 2025
 *      Author: PC
 */


#include "servo.h"
#include "stm32f3xx_hal.h"

extern TIM_HandleTypeDef htim1; // PA8 → TIM1_CH1

void move_servo(uint8_t angle) {
  uint32_t pulse = 500 + (angle * 2000) / 180; // 0°→500us, 180°→2500us
  __HAL_TIM_SET_COMPARE(&htim1, TIM_CHANNEL_1, pulse);
}
